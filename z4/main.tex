\documentclass[fleqn]{article}

\usepackage{polski}
\usepackage[utf8]{inputenc}
\usepackage[polish]{babel}
\usepackage{parskip}
\usepackage{icomma}
\usepackage[a4paper,includeheadfoot,margin=1.27cm]{geometry}
\usepackage{float}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage[hypcap=true]{subcaption}
\usepackage{xcolor}
\usepackage{transparent}
\usepackage{listings}
\usepackage[colorlinks=true, linkcolor=blue, pdfborder={0 0 0}]{hyperref}

\renewcommand\thesection{\arabic{section}.}
\renewcommand\thesubsection{\alph{subsection})}
\renewcommand\thesubsubsection{}
\newcommand\square[1]{
	\fcolorbox{black}{#1}{\rule{0pt}{6pt}\rule{6pt}{0pt}}
}

\brokenpenalty=1000
\clubpenalty=1000
\widowpenalty=1000

\lstdefinestyle{customc}{
	belowcaptionskip=1\baselineskip,
	breaklines=true,
	frame=L,
	xleftmargin=\parindent,
	language=C,
	showstringspaces=false,
	basicstyle=\footnotesize\ttfamily,
	keywordstyle=\bfseries\color{green!40!black},
	commentstyle=\itshape\color{purple!40!black},
	identifierstyle=\color{blue},
	stringstyle=\color{orange},
}

\title{TM -- Laboratorium 3. \\ \large Licznik 8-bitowy – zerowanie, zliczanie w górę do zadanej wartości – kod NKB}
\author{Krystian Chachuła \\ Dawid Gruszczyński \\ Marcin Skrzypkowski}

\begin{document}

\maketitle

\setcounter{page}{0}
\thispagestyle{empty}

\pagebreak

\setcounter{page}{1}

\section{Wstęp}

\pagebreak

\section{Program}
\subsection{main.c}

\noindent\begin{minipage}[t]{.45\textwidth}
	\lstinputlisting[lastline=64, style=customc]{src/main.c}
\end{minipage}\hfill
\noindent\begin{minipage}[t]{.45\textwidth}
	\lstinputlisting[firstline=65, lastline=119, style=customc]{src/main.c}
\end{minipage}\hfill

\pagebreak

\noindent\begin{minipage}[t]{.45\textwidth}
	\lstinputlisting[firstline=121, lastline=180, style=customc]{src/main.c}
\end{minipage}\hfill
\noindent\begin{minipage}[t]{.45\textwidth}
	\lstinputlisting[firstline=181, style=customc]{src/main.c}
	\subsection{Buttons}
	\subsubsection{Buttons.h}
	\lstinputlisting[style=customc]{src/Buttons.h}
	\subsubsection{Buttons.c}
	\lstinputlisting[style=customc]{src/Buttons.c}
\end{minipage}\hfill

\pagebreak

\subsection{Lcd}

\noindent\begin{minipage}[t]{.45\textwidth}
	\subsubsection{Lcd.h}
	\lstinputlisting[style=customc]{src/Lcd.h}
\end{minipage}\hfill
\noindent\begin{minipage}[t]{.45\textwidth}
	\subsubsection{Lcd.c}
	\lstinputlisting[style=customc]{src/Lcd.c}
\end{minipage}\hfill

\pagebreak

\noindent\begin{minipage}[t]{.45\textwidth}
\subsection{CtdnTimer}
\subsubsection{CtdnTimer.h}
\lstinputlisting[style=customc]{src/CtdnTimer.h}
\subsubsection{CtdnTimer.c}
\lstinputlisting[style=customc]{src/CtdnTimer.c}
\end{minipage}\hfill
\noindent\begin{minipage}[t]{.45\textwidth}
\subsection{melodies.h}
\lstinputlisting[style=customc]{src/melodies_slim.h}
\end{minipage}\hfill

\pagebreak

\end{document}
\grid
